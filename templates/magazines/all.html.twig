{% extends 'base.html.twig' %}

{% block title %}Tous les magazines - BDD-Magazines{% endblock %}

{% block body %}
<div id="titleListe">
    <div class="card mb-4">
        <div class="card-header" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
            <div class="d-flex justify-content-between align-items-center">
                <h5 class="mb-0 text-white">
                    <i class="fas fa-newspaper"></i> Catalogue complet
                </h5>
                <a href="{{ path('magazines_list') }}" class="btn btn-light btn-sm">
                    <i class="fas fa-search"></i> Rechercher
                </a>
            </div>
        </div>
        <div class="card-body py-2">
            <small class="text-muted">
                <i class="fas fa-info-circle"></i> 
                Cliquez sur une couverture pour l'agrandir, ou sur un titre pour voir les détails.
            </small>
        </div>
    </div>
</div>

{% if magazines|length > 0 %}
    {% include 'includes/tableauMagazines.html.twig' with {'pagination' : pagination, 'images' : images, 'results' : magazines}%}
{% else %}
    <div id="titleListe">
        <div class="alert alert-info">
            <i class="fas fa-info-circle"></i> Aucun magazine enregistré pour le moment.
            {% if is_granted('IS_AUTHENTICATED_FULLY') %}
                <a href="{{ path('magazine_new') }}" class="btn btn-primary btn-sm ml-2">
                    <i class="fas fa-plus"></i> Créer le premier magazine
                </a>
            {% endif %}
        </div>
    </div>
{% endif %}

{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('js/image-modal.js') }}"></script>
{% endblock %}
